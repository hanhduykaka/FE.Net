function fn_Xu_Ly_Param(){var n=$('input[name="hdfLinhVucId"]').val(),r=$('input[name="hdfThuTucId"]').val(),t=$('input[name="hdfDauKy"]').val(),i=$('input[name="hdfPrev"]').val();GetDMLinhVuc(n);GetDMThuTuc(n,r,t);i&&$(".btn_Tro_Ve").attr("data-prev",i);t&&$(".btn_chuyen").removeClass("show").addClass("hidden")}function GetDMLinhVuc(n){window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetDanhMucLinhVuc",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),null,"application/json; charset=utf-8","json",!0).then(function(t){if(t){$.each(t,(n,t)=>{data_Linh_Vuc.push({ID:t.LinhVucID,Ten:t.TenLinhVuc})});window.LoadSelect2($(".sl_linh_vuc_ho_so_index"),data_Linh_Vuc,n?n:$("#sl_linh_vuc_ho_so_index option:first-child").val(),!0);var i=data_Linh_Vuc.find(t=>t.ID==n);$(".lbl_Linh_vuc_index").text(i?i.Ten:"")}})}function GetDMThuTuc(n,t,i){if(isNaN(n*1))window.LoadSelect2($(".sl_thu_tuc_ho_so_index"),[],null,!0);else{var r=JSON.stringify({linhvucID:n});window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/MotCua/GetThuTucByLinhVucIDJsonResult",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),r,"application/json; charset=utf-8","json",!0).then(r=>{if(r){data_Thu_Tuc=[];$(".sl_thu_tuc_ho_so_index").val($("#sl_thu_tuc_ho_so_index option:first-child").val());$.each(r,(t,i)=>{data_Thu_Tuc.push({parentid:n,ID:i.ThuTucID,Ten:i.TenThuTuc,dataid:"syt-dnm-lv"+n+"-tt"+i.ThuTucID,funcSave:i.funcSave,funcLoad:i.funcLoad})});window.LoadSelect2($(".sl_thu_tuc_ho_so_index"),data_Thu_Tuc,t?t:$("#sl_thu_tuc_ho_so_index option:first-child").val(),!0);var u=data_Thu_Tuc.find(n=>n.ID==t);$(".lbl_Thu_tuc_index").text(u?u.Ten:"");GetPartialByThuTucId(t,i)}})}}function GetTrangThaiHoSo(n){window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetTrangThaiHoSo",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),null,"application/json; charset=utf-8","json",!0).then(function(t){if(t){$.each(t,(n,t)=>{data_Trang_Thai.push({ID:t.TrangThaiHoSoID,Ten:t.TenTrangThaiHoSo})});var i=data_Trang_Thai.find(t=>t.ID==n);i&&$(".lbl_Trang_Thai_Ho_So").html(i.Ten)}})}function LoadHoSoByHoSoId(n){var t=JSON.stringify({hosoId:n}),i=$('input[name="hdfDauKy"]').val();i||window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetHoSoById",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),t,"application/json; charset=utf-8","json",!0).then(function(n){if(n){var t=$.parseJSON(n.Content);t&&(window.LoadDataInputText("SoBienNhan",t.SoBienNhan),window.setValueDateTimePicker("NgayNhan",t.NgayNhan),window.setValueDateTimePicker("NgayHenTra",t.NgayHenTra),$('input[name = "SoBienNhan"]').attr("disabled",!0),$('input[name = "NgayNhan"]').attr("disabled",!0),$('input[name = "NgayHenTra"]').attr("disabled",!0))}})}function disableForm(){var n=".div_AbleDisable";window.DisableInputInForm(n);window.RemoveClassInputInForm(n,"require");window.RemoveClassInputInForm(n,"background-require")}function LoadData(){var n=$('input[name="hdfTrangThaiId"]').val(),u=$('input[name="hdfDauKy"]').val(),r,t,i;n&&n!=7&&n!=11&&u!="1"&&disableForm();r=$('input[name="hdfThuTucId"]').val();t=data_Thu_Tuc.find(n=>n.ID==r);t&&(i=t.funcLoad,i&&window[i]())}function Init(){var n=$('input[name="hdfHoSoId"]').val(),t=$('input[name="hdfTrangThaiId"]').val();_dataTrinhDo.length==0&&window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetDanhMucTrinhDo",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),null,"application/json; charset=utf-8","json",!0).then(function(n){n&&(_dataTrinhDo=n)});jQuery.isEmptyObject(_data)?window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetParamJsonResult",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),null,"application/json; charset=utf-8","json",!0).then(function(i){i&&(_flag_dont_Init_Binding=!0,_data=i,LoadInit(i),LoadData(),LoadHoSoByHoSoId(n),GetTrangThaiHoSo(t))}):(_flag_dont_Init_Binding=!0,LoadInit(_data),LoadData(),LoadHoSoByHoSoId(n),GetTrangThaiHoSo(t))}function LoadInit(n){$(".adselect").select2();n.lstnoiCapChungChi&&window.LoadSelect2($('select[name="NoiCapChungChi"]'),n.lstnoiCapChungChi,null,!0);window.LoadSelect2($(".slTinhThanh"),n.lsttinhthanh,null,!0);window.LoadSelect2($(".sl_LyDoCapLai"),_data_ly_do_cap_lai,null,!0);window.LoadSelect2($(".sl_LyDoDieuChinh"),_data_ly_do_dieu_chinh,null,!0);window.LoadSelect2($(".sl_LoaiGiayTo"),_data_loai_giay_to,null,!1);data_Hoat_dong_chuyen_mon=n.lsttrinhdochuyenmon;data_Dieu_kien_hanh_nghe=n.lstphamViHoatDongChuyenMon;data_Pham_vi_kinh_doanh=n.lstphamViKinhDoanh;var t=window.CheckLengthOfElement($(".div_tong").find(".bootstrap-multiselect:not(':hidden')"));t==="1"&&$(".bootstrap-multiselect:not(':hidden')").each((n,t)=>{var i=$(t),r=i.attr("data-data");LoadSelectPicker(i,window[r])});$(".date-time-picker").datetimepicker({locale:"vi",keepOpen:!1});$(".date-picker").datetimepicker({locale:"vi",format:"DD/MM/YYYY",useCurrent:!1});window.InitNgaySinhNgayCapGiayToDatePickerAndString(".ngaySinh",".date-picker-ngay-cap")}function InitElement(){LoadSelectPicker($("#grSel_hoat_dong_chuyen_mon_luong_y"),data_Hoat_dong_chuyen_mon)}function GetPartialByThuTucId(n,t){var i=JSON.stringify({ID:n});window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/ThuTucOnchange",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),i,"application/json; charset=utf-8","html",!0).then(i=>{i?($(".div_tong").removeClass("hidden"),$(".div_tong").empty().html(i).hide(),$(".div_tong").show("fast"),$(".syt-content-div-icon-search").removeClass("hidden").addClass("show"),window.ResetAllForm(".div_tong"),Init(n),$(".chk-parent .chk-dynamic").prop("disabled",!0),t&&$(".lbl_Trang_Thai_Ho_So").closest(".col-md-12").remove()):($(".div_tong").removeClass("show").addClass("hidden"),$(".syt-content-div-icon-search").removeClass("show").addClass("hidden"))})}function LoadComboHuyenByTinhId(n,t,i){if(isNaN(t*1))window.LoadSelect2(n.closest(".address-parent").find(".slQuanHuyen"),[],null,!0);else{var r=JSON.stringify({tinhId:t});window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetQuanHuyenByTinhIdJsonResult",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),r,"application/json; charset=utf-8","json",!0).then(t=>{t&&window.LoadSelect2(n.closest(".address-parent").find(".slQuanHuyen"),t,i,!0)})}window.LoadSelect2(n.closest(".address-parent").find(".slPhuongXa"),[],null,!0)}function LoadComboXaByHuyenId(n,t,i){if(isNaN(t*1))window.LoadSelect2(n.closest(".address-parent").find(".slPhuongXa"),[],null,!0);else{var r=JSON.stringify({quanId:t});window.AjaxDungChung("post","/DesktopModules/MVC/NghiepVu/HoSo/GetPhuongXaByQuanIdJsonResult",window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),r,"application/json; charset=utf-8","json",!0).then(t=>{t&&window.LoadSelect2(n.closest(".address-parent").find(".slPhuongXa"),t,i,!0)})}}function ResetHidenField(){$("input[name='hdfChungChiHanhNgheYID']").val("");$("input[name='hdfHoSoId']").val("")}function LoadSelectPicker(n,t){if(t&&n){var i="",r=n.parent("div").width();$.each(t,function(n,t){i+='<option  value="'+t.ID+'">'+t.Ten+"<\/option>"});n.html(i);n.multiselect({nonSelectedText:"Chưa lựa chọn",allSelectedText:"Chọn tất cả",buttonWidth:r<50?350:r+"px",onChange:function(){var u=n.find("option:selected"),t=[],i,r;$(u).each(function(){t.push([$(this).val()])});i=n.closest(".div_selpicker_parent").find(".ds_selectpicker");r=html_gen_selectpicker(t,window[n.attr("data-data")]);i.empty().append(r)}});n.multiselect("refresh")}}function LoadDataSelectPicker(n,t,i){var r=window.SplitStringByKey(t,"-"),u=window.SplitStringByKey(i,";"),f=n.closest(".div_selpicker_parent").find(".ds_selectpicker"),e=html_gen_selectpickerbyName(r,u);f.empty().append(e);$.each(r,function(t,i){$(n).find("[value="+i+"]").prop("selected",!0)});$(n).multiselect("refresh")}function LoadHinhAnh(n){var i=$("#img-hinh-dai-dien"),t;XuLyLoadAnh(n,i);t=i.closest(".div-upload-parent");t.find(".upload-xoa-hinh-anh").removeClass("hidden").addClass("show");t.find(".upload-this").removeClass("show").addClass("hidden")}function XuLyLoadAnh(n,t){if(n){var i=$("#hdfPathUploadFile").val(),r=window.ResolveUrl(i+n);t.attr("data-hinh",n);t.attr("src",r)}else t.attr("src","")}function fn_delete_seleted_picker(n){var t=$(n),r=t.closest(".div_selpicker_parent"),i=r.find(".selectpicker_checkbox");$(i).find("[value="+t.attr("data-id")+"]").prop("selected",!1);$(i).multiselect("refresh");t.closest(".ds-item").remove()}function XuLyEditFunc(n,t,i){var f=$(n).attr("data-html"),u=window[f](t),r;t?i.find("tr[name!='tr-edit']").each((n,i)=>{var r=$(i);t.id==r.attr("data-id")&&(r.after(u),r.addClass("hidden"))}):window.AppendDiv(i,u);r=n.attr("data-select2Func");r&&window[r](t)}function fn_cancel_edit(n){var t=$(n),f=t.closest("table"),r=t.closest("tbody"),i=t.closest("tr"),u=i.attr("data-id");i.remove();u!=0&&r.find("tr[class='font-size-13 hidden']").removeClass("hidden")}function fn_save_edit(n){var t=$(n).closest("table"),i=t.attr("data-save");window[i](n)}function fn_Xoa_Dong(n){var i=$(n).closest("table"),t=i.attr("data-del"),r=$(n).closest("tr"),u=new PNotify({title:"Cảnh báo",text:"Bạn có chắc chắn xóa dòng này không?",icon:"glyphicon glyphicon-question-sign",hide:!1,confirm:{confirm:!0},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}}).get().on("pnotify.confirm",function(){t?window[t](n):r.remove()}).on("pnotify.cancel",function(){return"false"})}function SelectedElementByData(n,t){n.val(t).trigger("change")}function CheckedElementByData(n,t){$.each(n,function(){$(this).val()===t&&$(this).prop("checked",!0)})}function XyLyselect2TrinhDo(n){window.LoadSelect2($(".sl_trinh_do"),_dataTrinhDo,n?n.trinhdoid:null,!1)}function html_gen_selectpicker(n,t){var i="";return $.each(n,(n,r)=>{i+='<div class="ds-item">',i+=' <div class="sytClearFix dnnClear"><\/div>',i+=' <div class="mt-10 mb-5"><\/div>',i+="<span>",i+=' <span type="button" title="Xóa" data-id='+r+' onclick="fn_delete_seleted_picker(this)" ',i+=' class="glyphicon glyphicon-remove syt-icon-cancel icon-gray cursor-pointer"><\/span> &nbsp; &nbsp;',i+=""+t.find(n=>n.ID==r).Ten+"<\/span> <\/br>",i+=" <\/div>"}),i}function html_gen_selectpickerbyName(n,t){var i="";return $.each(n,(n,r)=>{i+='<div class="ds-item">',i+=' <div class="sytClearFix dnnClear"><\/div>',i+=' <div class="mt-10 mb-5"><\/div>',i+="<span>",i+=' <span type="button" title="Xóa" data-id='+r+' onclick="fn_delete_seleted_picker(this)" ',i+=' class="glyphicon glyphicon-remove syt-icon-cancel icon-gray cursor-pointer"><\/span> &nbsp; &nbsp;',i+=""+t[n]+"<\/span> <\/br>",i+=" <\/div>"}),i}function html_gen_edit_trinh_do(n){var t="";return t+="   <tr "+(n?'data-id="'+n.id+'"':"data-id=0")+' class="font-size-13"  name="tr-edit">',t+="    <td>",t+='    <select class="sknadSelect width-100 adselect sl_trinh_do" name ="TrinhDo">',t+="    <\/select>",t+="    <\/td>",t+="   <td>",t+='<input  min = 1 step="1" name="name_tot_nghiep" oninput="validity.valid||(value=\'\');" class="width-100 syt-radius-3 min-h-30 paddingMin txt_nam_tot_nghiep" type="number"'+(n?'value="'+n.nam_tot_nghiep+'"':"")+"/>",t+="    <\/td>",t+="   <td>",t+='    <input name="truong_dao_tao" class="width-100 syt-radius-3 min-h-30 paddingMin txt_truong_dao_tao" type="text" '+(n?'value="'+escapeHtml(n.truong_dao_tao)+'"':"")+" />",t+="   <\/td>",t+="  <td>",t+='   <div class="show-inline cursor-pointer min-h-30 mt-mobile-5">',t+='   <span class="glyphicon glyphicon-ok syt-icon-save" title="Lưu" onclick="fn_save_edit(this)"><\/span>',t+="   <\/div>",t+="  <\/td>",t+="   <td >",t+='    <div class="show-inline cursor-pointer min-h-30 mt-mobile-5">',t+='    <span type="button" title="Hủy"  onclick="fn_cancel_edit(this)" class="glyphicon glyphicon-remove syt-icon-cancel"/>',t+="  <\/div>",t+="   <\/td>",t+"   <\/tr> "}function html_gen_edit_qua_trinh_cong_tac(n){var t="";return t+=' <tr class="font-size-13" name="tr-edit">',t+="    <td>",t+='   <input name="thoi_gian_cong_tac" class="width-100 syt-radius-3 min-h-30 paddingMin txt_thoi_gian_cong_tac"'+(n?'value="'+escapeHtml(n.thoi_gian_cong_tac)+'"':"")+' type="text" />',t+="   <\/td>",t+="   <td>",t+='   <input name="don_vi_cong_tac" class="width-100 syt-radius-3 min-h-30 paddingMin txt_don_vi_cong_tac"  '+(n?'value="'+escapeHtml(n.don_vi_cong_tac)+'"':"")+'  type="text" />',t+="   <\/td>",t+="  <td>",n&&n.loai!=1?(t+='  <input  type="radio" name="loai"  value="1" class="nha_nuoc"/>',t+="  <span> Nhà nước<\/span>",t+='  <input  type="radio" name="loai"  value="2" class="tu_nhan"  checked="checked"/>',t+="  <span> Tư nhân<\/span>"):(t+='  <input  type="radio" name="loai"  value="1" class="nha_nuoc" checked="checked"/>',t+="  <span> Nhà nước<\/span>",t+='  <input  type="radio" name="loai"  value="2" class="tu_nhan" />',t+="  <span> Tư nhân<\/span>"),t+="  <\/td>",t+='  <td title="Sửa">',t+='   <div class="show-inline cursor-pointer min-h-30 mt-mobile-5">',t+=' <span class="glyphicon glyphicon-ok syt-icon-save" title="Lưu" ',t+=' onclick="fn_save_edit(this)"><\/span>',t+="   <\/div>",t+="    <\/td>",t+='   <td title="Xóa">',t+='    <div class="show-inline cursor-pointer min-h-30 mt-mobile-5">',t+=' <span type="button" title="Hủy" onclick="fn_cancel_edit(this)" ',t+=' class="glyphicon glyphicon-remove syt-icon-cancel"><\/span>',t+="   <\/div>",t+="   <\/td>",t+"  <\/tr>"}function previewTapDinhKem(){var n=document.getElementById("file_Dinh_kem").files;n&&n.length>0&&($.each(n,function(n,t){var i;if(t){var r=window.GetExtensionFileByFileName(t.name),u=_fileTypesDinhKem.indexOf(r)>-1,f=window.Check50MB(t.size);u?f?(i=new FileReader,i.onload=function(){var i=window.newGUIDFunc(),n="";n+='<div class="parent_dinh_kem">';n+="<a class='cursor-pointer'>"+t.name+"<\/a>";n+="<span data-id="+i+' class="glyphicon glyphicon-remove btn_xoa_dinh_kem cursor-pointer ml-5 color-red"> <\/span>';n+="<\/div>";$(".div_lst_tap_dinh_kem").append(n);_arrObjDinhKemPostFile.push({id:i,file:t})},console.log(_arrObjDinhKemPostFile),i.readAsDataURL(t)):window.alert_info("Vui lòng chọn file dưới 50MB"):window.alert_info("File đính kèm có định dạng không hợp lệ")}}),$("#file_Dinh_kem").attr("value",""))}function printFile(n){var t=JSON.stringify({Id:Id});window.AjaxDungChung("post",n,window.moduleId,window.tabId,$("input[name='__RequestVerificationToken']").val(),t,"application/json; charset=utf-8","json",!0).then(function(n){var t;if(n){var r=convertDataURItoFile("data:application/vnd.ms-word;base64,"+n.Data,n.FileName),u=window.URL||window.webkitURL,i=u.createObjectURL(r);n.FileName?(t=document.createElement("a"),typeof t.download=="undefined"?window.open(i,"_blank"):(t.href=i,t.download=n.FileName,document.body.appendChild(t),t.click(),document.body.removeChild(t))):window.open(i,"_blank")}else window.alert_error("Xuất không thành công!")})}function convertDataURItoFile(n,t){for(var r,u=atob(n.split(",")[1]),e=n.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(u.length),f=new Uint8Array(o),i=0;i<u.length;i++)f[i]=u.charCodeAt(i);return r=new Blob([f],{type:e}),r.lastModifiedDate=new Date,r.name=t,r}function validateform(){var n=window.ValidateRequireOnDiv(".div_tong");return n&&(n=window.ValidateEmailOnDiv(".div_tong"),n&&(n=window.ValidateErrorOnDiv(".div_tong"))),n}function escapeHtml(n){if(!n)return"";var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return n.toString().replace(/[&<>"']/g,function(n){return t[n]})}function DisabledButtonSave(){$(".btn_Luu").attr("disabled",!0)}function EnabledButtonSave(){$(".btn_Luu").attr("disabled",!1)}var data_Hoat_dong_chuyen_mon=[],data_Dieu_kien_hanh_nghe=[],data_Hinh_thuc_to_chuc=[{ID:1,Ten:" Thuốc thành phẩm, sinh phẩm y tế, nguyên liệu làm thuốc bảo quản ở điều kiện thường"},{ID:2,Ten:" Khác"}],data_Pham_vi=[{ID:1,Ten:"Doanh nghiệp xuất khẩu, nhập khẩu thuốc"},{ID:2,Ten:"Doanh nghiệp bán buôn thuốc"},{ID:3,Ten:"Bán lẻ thuốc thành phẩm"}],data_Pham_vi_kinh_doanh=[],data_Dang_san_pham=[{ID:1,Ten:" Kem, nhũ tương, sữa, gel hoặc dùng dầu trên da (tay, mặt, chân, ...)"},{ID:2,Ten:"Mặt nạ (chỉ trừ sản phẩm làm bong da nguồn gốc hóa học)"},{ID:3,Ten:" Chất phủ màu (lỏng, nhão, bột)"},{ID:4,Ten:" Phấn trang điểm, phấn dùng sau khi tắm, bột vệ sinh, ..."},{ID:5,Ten:" Xà phòng tắm, xà phòng khử mùi, ..."},{ID:6,Ten:"Nước hoa, nước thơm dùng vệ sinh"},{ID:7,Ten:"Sản phẩm tẩy lông"},{ID:8,Ten:" Sản phẩm chăm sóc tóc"},{ID:9,Ten:"Sản phẩm dùng cho môi"}],data_Trang_Thai=[],_data_loai_giay_to=[{ID:"1",Ten:"Chứng minh nhân dân"},{ID:"2",Ten:"Hộ chiếu"},{ID:"3",Ten:"Căn cước công dân"},{ID:"4",Ten:"Khác"}],_fileTypesImg=["jpg","jpeg","png","tiff","gif"],_fileTypesDinhKem=["doc","docx","xls","xlsx","pdf","jpg","jpeg","png","tiff","gif","sig","enc"],_arrObjDinhKemPostFile=[],Id=$("input[name='hdfId']").val(),HoSoID=$("input[name='hdfHoSoId']").val(),ThuTucId=$("input[name='hdfThuTucId']").val(),TrangThaiId=$("input[name='hdfTrangThaiId']").val(),DauKy=$("input[name='hdfDauKy']").val(),SoChungChi=$("input[name='hdfSoChungChi']").val(),_arrObjFile=[],_valid_image=!1,_data={},_dataTrinhDo=[],_noidungtruoc,_data_ly_do_cap_lai=[{ID:"1",Ten:"Bị mất, hư hỏng"},{ID:"2",Ten:"Bị thu hồi điểm a,b"},{ID:"3",Ten:"Bị thu hồi điểm c,d"}],_data_ly_do_cap_lai_ATSH=[{ID:"1",Ten:"Hết hạn"},{ID:"2",Ten:"Bị hỏng"},{ID:"3",Ten:"Bị mất"},{ID:"4",Ten:"Thay đổi tên cơ sở"}],_data_thoi_han_ATSH=[{ID:"1",Ten:"3 năm"},{ID:"2",Ten:"5 Năm"}],_data_ly_do_dieu_chinh=[{ID:"1",Ten:"Thay đổi phạm vi hoạt động chuyên môn"},{ID:"2",Ten:"Khác"}],data_Linh_Vuc=[],data_Thu_Tuc=[],_flag_dont_Init_Binding=!1;$(document).ready(()=>{fn_Xu_Ly_Param();$(".btn_chuyen .next_menu").on("click",function(n){$(this).next("ul").toggle();n.stopPropagation();n.preventDefault()})});$(".sl_linh_vuc_ho_so_index").change(n=>{GetDMThuTuc(n.target.value),$(".div_tong").removeClass("show").addClass("hidden"),$(".syt-content-div-icon-search").removeClass("show").addClass("hidden")});$(".sl_thu_tuc_ho_so_index").change(n=>{GetPartialByThuTucId(n.target.value)});$(document).on("select2:select",".address-parent .slTinhThanh",n=>{var t=$(n.target),i=n.target.value;LoadComboHuyenByTinhId(t,i)});$(document).on("select2:select",".address-parent .slQuanHuyen",n=>{var t=$(n.target),i=n.target.value;LoadComboXaByHuyenId(t,i)});$(document).on("changed",".selectpicker_checkbox",n=>{var i=$(n.currentTarget).closest(".div_selpicker_parent").find(".ds_selectpicker"),t=$(n.currentTarget).val(),r;t?t.length>0&&(r=html_gen_selectpicker(t,window[$(n.currentTarget).attr("data-data")]),i.empty().append(r)):i.empty()});$(document).on("click",".tbl-dynamic .syt-edit-btn",n=>{var t=$(n.target),u=t.data(),i=t.closest("table"),f=t.closest("tbody"),e=$(i).find('tr[name="tr-edit"]'),r=window.CheckLengthOfElement(e);r!=="-1"&&(r==="0"?XuLyEditFunc(i,u,f):window.alert_info("Bạn đang có dòng dữ liệu chưa được lưu, Vui lòng lưu hoặc đóng trước khi thực hiện thao tác mới!"))});$(document).on("click",".div_edit_table_parent .btn_them_edit_table",n=>{var i=$(n.target);if(!i.hasClass("color-black")){var u=i.closest(".div_edit_table_parent"),t=u.find("table"),f=$(t).find("tbody"),e=$(t).find('tr[name="tr-edit"]'),r=window.CheckLengthOfElement(e);r!=="-1"&&(r==="0"?XuLyEditFunc(t,null,f):window.alert_info("Bạn đang có dòng dữ liệu chưa được lưu, Vui lòng lưu hoặc đóng trước khi thực hiện thao tác mới!"))}});$(document).on("click",".div-upload-parent .upload-this",n=>{n.preventDefault();var t=$(n.target),i=t.closest(".div-upload-parent"),r=i.find("input[type='file']:not(:disabled)");$(r).trigger("click")});$(document).on("change","#file_Hinh_anh",n=>{var r=$(n.target),i=r[0].files[0],u=r.closest(".div-upload-parent"),o=document.getElementById("img-hinh-dai-dien"),f,e,t;i&&(f=i.name.split(".").pop().toLowerCase(),e=_fileTypesImg.indexOf(f)>-1,e?(t=new FileReader,t.onload=function(){o.src=t.result},t.readAsDataURL(i),u.find(".upload-xoa-hinh-anh").removeClass("hidden").addClass("show"),u.find(".upload-this").removeClass("show").addClass("hidden"),_valid_image=!0):(window.alert_info("File đính kèm có định dạng không hợp lệ"),_valid_image=!1))});$(document).on("click",".div-upload-parent .upload-xoa-hinh-anh",n=>{var t,f;n.preventDefault();var i=$(n.target),r=i.attr("class"),u=window.IndexOfString(r,"syt_u_disable");u!=="1"&&(t="Bạn có chắc chắn xóa ảnh đính kèm này không?",f=new PNotify({title:"Cảnh báo",text:t,icon:"glyphicon glyphicon-question-sign",hide:!1,confirm:{confirm:!0},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}}).get().on("pnotify.confirm",function(){$(".upload-xoa-hinh-anh").removeClass("show").addClass("hidden");$(".upload-this").removeClass("hidden").addClass("show");$("#img-hinh-dai-dien").attr("data-hinh","");$("#img-hinh-dai-dien").attr("src","");$("input[name='hdfDelHinhAnh']").val("1")}).on("pnotify.cancel",function(){return"false"}))});$(document).on("click",".parent_dinh_kem .btn_xoa_dinh_kem",n=>{n.preventDefault();var t=new PNotify({title:"Cảnh báo",text:"Bạn có chắc chắn xóa file đính kèm này không?",icon:"glyphicon glyphicon-question-sign",hide:!1,confirm:{confirm:!0},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}}).get().on("pnotify.confirm",function(){var t,i,r;window._flag_Changing_listFile=!0;t=$(n.target);i=t.attr("data-id");_arrObjDinhKemPostFile.length>0&&(_arrObjDinhKemPostFile=_arrObjDinhKemPostFile.filter(n=>n.id!==i));_arrObjFile.length>0&&(_arrObjFile=_arrObjFile.filter(n=>n.id!==i));console.log(_arrObjDinhKemPostFile);r=t.closest(".parent_dinh_kem");r.remove()}).on("pnotify.cancel",function(){return"false"})});$(".chk-hide-this").click(n=>{var i=$(n.target),t=i.closest(".div-chk-hide-parent").find(".chk-hide-destination"),r=window.CheckLengthOfElement(t);i.is(":checked")?r==="1"&&t.removeClass("show").addClass("hidden"):t.removeClass("hidden").addClass("show")});$(".btn_Luu").click(n=>{var f=$(n.target),u=$('input[name="hdfLinhVucId"]').val(),t=$('input[name="hdfThuTucId"]').val(),i=data_Thu_Tuc.find(n=>n.ID==t),r;i&&(r=i.funcSave,window[r](u,t))});$(".btn_InDeXuat").click(()=>{var n=$('input[name="hdfInDeXuat"]').val();n&&printFile(n)});$(".btn_InChungChi").click(()=>{var n=$('input[name="hdfInChungChi"]').val();n&&printFile(n)});$(document).on("input",".background-require",n=>{var t=$(n.currentTarget),i=t.val();i?t.removeClass("border-color-a9"):t.addClass("border-color-a9")});$(document).on("input",".require",n=>{var t=$(n.currentTarget),i=t.val();i?t.removeClass("border-color-a9"):t.addClass("border-color-a9")});$(document).on("input",".email",n=>{var t=$(n.currentTarget),i=t.val();i?window.validateEmail(i)?window.removeValidate(t,"border-color-a9",".color-red"):window.appendValidate(t,"border-color-a9",".color-red","<label class='color-red'> Email chưa đúng định dạng! <\/label>"):window.removeValidate(t,"border-color-a9",".color-red")});$(document).on("input",".ngaySinh",n=>{var t=$(n.currentTarget),i=t.val(),r;if(i)if(r=window.ValidateDinhDangNgaySinh(i),r.valid==="valid"){window.removeValidate(t,"border-color-a9",".color-red");var f=r.kieuDate,e=$(".date-picker-ngay-cap").val(),u=window.ValidateTuoi(i,e,f);u!=="True"?window.appendValidate(t,"border-color-a9",".color-red","<label class='color-red'>"+u+" <\/label>"):window.removeValidate(t,"border-color-a9",".color-red")}else window.appendValidate(t,"border-color-a9",".color-red","<label class='color-red'>Ngày nhập chưa đúng định dạng! <\/label>");else window.removeValidate(t,"border-color-a9",".color-red")});$(document).on("input",".varchar",n=>{var i=$(n.currentTarget),t=i.val();t&&(t=window.UnUnicode(t),i.val(t))});$("table .chk-tbl-all").change(function(){var t=$($(this)[0]),i=t.closest("table"),n=i.find("td input[type='checkbox']"),r=window.CheckLengthOfElement(n);r==="1"&&(this.checked?n.each((n,t)=>{$(t).prop("checked",!0)}):n.each((n,t)=>{$(t).prop("checked",!1)}))});$(".div-select-parent .input-select").click(n=>{var i=$(n.target),r=i.closest(".div-select-parent"),u=r.find("td input[type='checkbox']"),o=window.CheckLengthOfElement(u),s=r.closest(".modal"),t=[],f,e;o?(u.each((n,i)=>{if($(i).is(":checked")){var r=$(i)[0],u=r.closest("tr"),f=$(u).find(".td-noi-dung");t.push("-"+f[0].innerText+"\n")}}),t.length>0?(s.modal("toggle"),f=i.closest(".div-select-parent-area"),e=f.find(".area-show"),e.val(t)):window.alert_info("Vui lòng chọn 1 đối tượng!")):window.alert_info("Không có đối tượng để chọn!")});$(".chon-goi-y").click(n=>{var u=$(n.target),f=u.closest(".div-select-parent-area"),t=f.find(".modal"),i=t.find("table"),r=$(i).find('tr[name="tr-edit"]'),e=window.CheckLengthOfElement(r);e==="1"&&r.remove();i.find("input[type='checkbox']").prop("checked",!1);t.modal("show")});$(".btn_Tro_Ve").click(n=>{var i=$(n.target),t=i.attr("data-prev");t?(t=t.replace(/_/g,"/"),window.location.href=t):window.location.href="/danh-Sach-Ho-So"});